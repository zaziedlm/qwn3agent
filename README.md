# ブロック崩しゲーム README

このプログラムは、GitHub CopilotのEditモードを使用し、LLMモデルとしてOllamaのローカルLLMであるQwen3:14bを活用して開発されました。

---

## ゲーム概要
このプログラムは、伝統的な「ブロック崩し」ゲームを実装したPythonアプリケーションです。  
プレイヤーはパドルを操作し、ボールを跳ね返してすべてのブロックを破壊するというルールで進行します。

---

## ゲームのルールと動き
- **目的**: 画面に配置されたすべてのブロックをボールで破壊すること。
- **操作方法**:  
  - **左矢印キー** / **右矢印キー**: パドルを左右に移動  
  - **スペースキー**: ゲーム開始（開始画面時）  
- **ゲームオーバー条件**:  
  - ボールが画面下に落ちた場合  
- **ゲームクリア条件**:  
  - すべてのブロックを破壊した場合  
- **スコア**: 破壊したブロック数 × 10点（1ブロックあたり）

---

## プログラム構造の説明（Python学習向け）

### 1. **モジュールのインポート**
```python
import pygame
import sys
import argparse
```
- `pygame`: ゲーム開発用ライブラリ（画面描画、イベント処理など）  
- `sys`: プログラム終了処理用  
- `argparse`: コマンドライン引数を解析するためのライブラリ  

---

### 2. **クラスの定義**
#### `Ball` クラス
- ボールの位置（`x`, `y`）、半径（`radius`）、速度（`speed`）を管理  
- `move()` メソッド: ボールの移動処理（`dx`, `dy` で方向を制御）  

#### `Paddle` クラス
- パドルの位置（`x`, `y`）とサイズ（`width`, `height`）を管理  
- `move(direction)` メソッド: パドルの左右移動処理  

#### `Brick` クラス
- ブロックの位置（`x`, `y`）とサイズ（`width`, `height`）を管理  

#### `StartScreen` クラス
- ゲーム開始画面の描画処理（開始ボタンの表示とクリック判定）  

---

### 3. **ゲームの初期化**
```python
pygame.init()
screen = pygame.display.set_mode((800, 600))
clock = pygame.time.Clock()
```
- `pygame.init()`: Pygameライブラリの初期化  
- `screen`: ゲーム画面の作成（800×600ピクセル）  
- `clock`: フレームレートの制御（60fps）  

---

### 4. **ゲームループ**
```python
running = True
while running:
    for event in pygame.event.get():
        # イベント処理（マウスクリック、キーボード入力など）
    # ゲーム状態に応じた処理（"start", "playing", "game_over"）
    pygame.display.flip()
    clock.tick(60)
```
- **イベント処理**: マウスクリックやキーボード入力を受け取る  
- **ゲーム状態管理**: `game_state` 変数で「開始画面」「プレイ中」「ゲームオーバー」を切り替える  
- **描画処理**: `pygame.display.flip()` で画面を更新  
- **フレームレート制御**: `clock.tick(60)` で1秒間に60フレームを実行  

---

### 5. **衝突判定とゲームロジック**
- **ボールとパドルの衝突**: `ball.y + ball.radius > paddle.y` で判定  
- **ボールとブロックの衝突**: `ball.x` と `brick.x` の範囲で判定  
- **ゲームオーバー判定**: `ball.y + ball.radius > 600` で判定  

---

### 6. **コマンドライン引数の使用**
```python
parser.add_argument("--speed", type=int, default=5, help="Ball speed (default: 5)")
```
- `--speed` 引数でボールの速度を変更可能（例: `python main.py --speed 10`）  

---

## 学習ポイント
- オブジェクト指向プログラミング（クラスとインスタンスの使い方）  
- イベント駆動型処理（キーボードやマウスの入力処理）  
- ゲームループとフレームレート制御  
- 衝突判定と条件分岐の応用  
- コマンドライン引数の受け取りと処理  

---

## 今後の拡張案
- ゲーム音声の追加（`pygame.mixer` の使用）  
- レベルアップ機能（ブロック数や速度を変更）  
- プレイヤーのスコアをファイルに保存